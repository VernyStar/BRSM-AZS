class AlertSV{constructor(t){this.opt=Object.assign({position:"top-left",nomAlert:0,offsetX:20,offsetY:20,gap:20,stack:[],timing:"ease",dimOld:!0,duration:"0.5s"},t)}push(t){this.nomAlert++;let e=document.createElement(t.link?"a":"div");t.link&&(e.href=t.link,e.target=t.linkTarget?t.linkTarget:"_self"),e.className="alert"+(t.style?" alert-"+t.style:"")+" alert-"+this.position,e.innerHTML=`\n         <div class="alert-wrapper">\n            ${t.title?'<h3 class="alert-header">'+t.title+"</h3>":""}\n            ${t.content?'<div class="alert-content">'+t.content+"</div>":""}\n         </div>\n            ${null==t.closeButton||!0===t.closeButton?'<button class="alert-close">&times;</button>':""}`,document.body.appendChild(e),e.getBoundingClientRect(),"top-left"==this.position?(e.style.top=0,e.style.left=this.offsetX+"px"):"top-center"==this.position?(e.style.top=0,e.style.left=0):"top-right"==this.position?(e.style.top=0,e.style.right=this.offsetX+"px"):"bottom-left"==this.position?(e.style.bottom=0,e.style.left=this.offsetX+"px"):"bottom-center"==this.position?(e.style.bottom=0,e.style.left=0):"bottom-right"==this.position&&(e.style.bottom=0,e.style.right=this.offsetX+"px"),(t.width||this.width)&&(e.style.width=(t.width||this.width)+"px"),e.dataset.transitionState="queue";let n=this.stack.push({element:e,props:t,offsetX:this.offsetX,offsetY:this.offsetY,index:0});this.stack[n-1].index=n-1,e.querySelector(".alert-close")&&(e.querySelector(".alert-close").onclick=t=>{t.preventDefault(),this.closeAlert(this.stack[n-1])}),t.link&&(e.onclick=()=>this.closeAlert(this.stack[n-1])),this.showAlert(this.stack[n-1]),t.onOpen&&t.onOpen(this.stack[n-1])}showAlert(t){if(!0===this.isOpening())return!1;t.element.dataset.transitionState="opening",t.element.style.transition=this.duration+" transform "+this.timing,this.changeAlert(t),t.element.addEventListener("transitionend",(()=>{if("opening"==t.element.dataset.transitionState){t.element.dataset.transitionState="complete";for(let t=0;t<this.stack.length;t++)"queue"==this.stack[t].element.dataset.transitionState&&this.showAlert(this.stack[t]);t.props.dismissAfter&&this.closeAlert(t,t.props.dismissAfter)}}));for(let e=0;e<this.stack.length;e++)"complete"==this.stack[e].element.dataset.transitionState&&(this.stack[e].element.dataset.transitionState="opening",this.stack[e].element.style.transition=this.duration+" transform "+this.timing+(this.dimOld?", "+this.duration+" opacity ease":""),this.dimOld&&his.stack[e].element.classList.add("alert-dimmed"),this.stack[e].offsetY+=t.element.offsetHeight+this.gap,this.changeAlert(this.stack[e]));return!0}closeAlert(t,e=null){return!0===this.isOpening()?(setTimeout((()=>this.closeAlert(t,e)),100),!1):("close"==t.element.dataset.transitionState||(t.element.querySelector(".alert-close")&&(t.element.querySelector(".alert-close").onclick=null),t.element.dataset.transitionState="close",t.element.style.transition="0.2s opacity ease"+(e?" "+e:""),t.element.style.opacity=0,t.element.addEventListener("transitionend",(()=>{if("close"==t.element.dataset.transitionState){let e=t.element.offsetHeight;t.props.onClose&&t.props.onClose(t),t.element.remove();for(let n=0;n<t.index;n++)this.stack[n].element.style.transition=this.duration+" transform "+this.timing,this.stack[n].offsetY-=e+this.gap,this.changeAlert(this.stack[n]);let n=this.getFocusedToast();n&&n.element.classList.remove("alert-dimmed")}}))),!0)}isOpening(){let t=!1;for(let e=0;e<this.stack.length;e++)"opening"==this.stack[e].element.dataset.transitionState&&(t=!0);return t}getFocusedToast(){for(let t=0;t<this.stack.length;t++)if(this.stack[t].offsetY==this.offsetY)return this.stack[t];return!1}changeAlert(t){"top-center"==this.position?t.element.style.transform=`translate(calc(50vw - 50%), ${t.offsetY}px)`:"top-right"==this.position||"top-left"==this.position?t.element.style.transform=`translate(0, ${t.offsetY}px)`:"bottom-center"==this.position?t.element.style.transform=`translate(calc(50vw - 50%), -${t.offsetY}px)`:"bottom-left"!=this.position&&"bottom-right"!=this.position||(t.element.style.transform=`translate(0, -${t.offsetY}px)`)}set stack(t){this.opt.stack=t}get stack(){return this.opt.stack}set position(t){this.opt.position=t}get position(){return this.opt.position}set offsetX(t){this.opt.offsetX=t}get offsetX(){return this.opt.offsetX}set offsetY(t){this.opt.offsetY=t}get offsetY(){return this.opt.offsetY}set gap(t){this.opt.gap=t}get gap(){return this.opt.gap}set nomAlert(t){this.opt.nomAlert=t}get nomAlert(){return this.opt.nomAlert}set width(t){this.opt.width=t}get width(){return this.opt.width}set duration(t){this.opt.duration=t}get duration(){return this.opt.duration}set timing(t){this.opt.timing=t}get timing(){return this.opt.timing}set dimOld(t){this.opt.dimOld=t}get dimOld(){return this.opt.dimOld}}const css="\n   .alert {\n      position: fixed;\n      text-decoration: none;\n      z-index: 999999;\n      max-width: 320px;\n      background-color: #fff;\n      box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.12);\n      border-radius: 4px;\n      display: flex;\n      padding: 10px;\n      transform: translate(0, -150%);\n   }\n   .alert .alert-wrapper {\n      flex: 1;\n      padding-right: 10px;\n      overflow: hidden;\n   }\n   .alert .alert-wrapper .alert-header {\n      padding: 0 0 5px 0;\n      margin: 0;\n      font-weight: bold;\n      font-size: 14px;\n      word-break: break-all;\n      color: #4f525a;\n   }\n   .alert .alert-wrapper .alert-content {\n      font-size: 14px;\n      margin: 0;\n      padding: 0;\n      word-break: break-all;\n      color: #4f525a;\n   }\n   .alert .alert-close {\n      appearance: none;\n      border: none;\n      background: transparent;\n      cursor: pointer;\n      font-size: 24px;\n      line-height: 24px;\n      padding-bottom: 4px;\n      font-weight: bold;\n      color: rgba(0, 0, 0, 0.2);\n   }\n   .alert .alert-close:hover {\n      color: rgba(0, 0, 0, 0.4);\n   }\n   .alert.alert-top-center {\n      transform: translate(calc(50vw - 50%), -150%);\n   }\n   .alert.alert-bottom-left,\n   .alert.alert-bottom-right {\n      transform: translate(0, 150%);\n   }\n   .alert.alert-bottom-center {\n      transform: translate(calc(50vw - 50%), 150%);\n   }\n   .alert.alert-dark {\n      background-color: #2d2e31;\n   }\n   .alert.alert-dark .alert-wrapper .alert-header {\n      color: #edeff3;\n   }\n   .alert.alert-dark .alert-wrapper .alert-content {\n      color: #edeff3;\n   }\n   .alert.alert-dark .alert-close {\n      color: rgba(255, 255, 255, 0.2);\n   }\n   .alert.alert-dark .alert-close:hover {\n      color: rgba(255, 255, 255, 0.4);\n   }\n   .alert.alert-success {\n      background-color: #C3F3D7;\n      border-left: 4px solid #51a775;\n   }\n   .alert.alert-success .alert-wrapper .alert-header {\n      color: #51a775;\n   }\n   .alert.alert-success .alert-wrapper .alert-content {\n      color: #51a775;\n   }\n   .alert.alert-success .alert-close {\n      color: rgba(0, 0, 0, 0.2);\n   }\n   .alert.alert-success .alert-close:hover {\n      color: rgba(0, 0, 0, 0.4);\n   }\n   .alert.alert-error {\n      background-color: #f3c3c3;\n      border-left: 4px solid #a75151;\n   }\n   .alert.alert-error .alert-wrapper .alert-header {\n      color: #a75151;\n   }\n   .alert.alert-error .alert-wrapper .alert-content {\n      color: #a75151;\n   }\n   .alert.alert-error .alert-close {\n      color: rgba(0, 0, 0, 0.2);\n   }\n   .alert.alert-error .alert-close:hover {\n      color: rgba(0, 0, 0, 0.4);\n   }\n   .alert.alert-verified {\n      background-color: #d0eaff;\n      border-left: 4px solid #6097b8;\n   }\n   .alert.alert-verified .alert-wrapper .alert-header {\n      color: #6097b8;\n   }\n   .alert.alert-verified .alert-wrapper .alert-content {\n      color: #6097b8;\n   }\n   .alert.alert-verified .alert-close {\n      color: rgba(0, 0, 0, 0.2);\n   }\n   .alert.alert-verified .alert-close:hover {\n      color: rgba(0, 0, 0, 0.4);\n   }\n   .alert.alert-dimmed {\n      opacity: .3;\n   }\n   .alert.alert-dimmed:hover,\n   .alert.alert-dimmed:active {\n      opacity: 1;\n   }",linkCss=document.createElement("style");linkCss.textContent=css,document.head.appendChild(linkCss);
